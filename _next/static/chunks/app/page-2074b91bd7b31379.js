(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{42566:(e,t,a)=>{Promise.resolve().then(a.bind(a,74816))},74816:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>O});var s=a(58081),r=a(82149),l=a(76522),d=a(14483);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,d.QP)((0,l.$)(t))}let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:i("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});n.displayName="Card";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:i("flex flex-col space-y-1.5 p-6",a),...r})});o.displayName="CardHeader";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:i("text-2xl font-semibold leading-none tracking-tight",a),...r})});c.displayName="CardTitle";let m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:i("text-sm text-muted-foreground",a),...r})});m.displayName="CardDescription";let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:i("p-6 pt-0",a),...r})});x.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:i("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter";let f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:i("w-full caption-bottom text-sm",a),...r})})});f.displayName="Table";let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("thead",{ref:t,className:i("[&_tr]:border-b",a),...r})});u.displayName="TableHeader";let h=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tbody",{ref:t,className:i("[&_tr:last-child]:border-0",a),...r})});h.displayName="TableBody",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tfoot",{ref:t,className:i("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...r})}).displayName="TableFooter";let b=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("tr",{ref:t,className:i("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...r})});b.displayName="TableRow";let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("th",{ref:t,className:i("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...r})});p.displayName="TableHead";let j=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("td",{ref:t,className:i("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...r})});function y(e){let{className:t,...a}=e;return(0,s.jsx)("div",{className:i("animate-pulse rounded-md bg-muted",t),...a})}j.displayName="TableCell",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("caption",{ref:t,className:i("mt-4 text-sm text-muted-foreground",a),...r})}).displayName="TableCaption";var v=a(78158),N=a(99550),g=a(33100),w=a(92583),k=a(63316),_=a(41073),R=a(47174),C=a(85235),T=a(94560),z=a(11516),A=a(28295),F=a(7135),S=a(64094);let D=(0,a(23484).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),I=r.forwardRef((e,t)=>{let{className:a,variant:r,size:l,asChild:d=!1,...n}=e,o=d?S.DX:"button";return(0,s.jsx)(o,{className:i(D({variant:r,size:l,className:a})),ref:t,...n})});function E(){let{theme:e,setTheme:t}=(0,F.D)();return(0,s.jsxs)(I,{variant:"outline",size:"icon",onClick:()=>t("light"===e?"dark":"light"),className:"fixed top-4 left-4 z-50 h-9 w-9",children:[(0,s.jsx)(z.A,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,s.jsx)(A.A,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,s.jsx)("span",{className:"sr-only",children:"切換主題"})]})}function O(){let[e,t]=(0,r.useState)([]),[a,l]=(0,r.useState)([]),[d,i]=(0,r.useState)(!0),z=[{symbol:"AAPL",name:"Apple Inc."},{symbol:"GOOGL",name:"Alphabet Inc."},{symbol:"MSFT",name:"Microsoft Corp."}];(0,r.useEffect)(()=>{(async()=>{try{let e=z.map(async e=>{let t=await fetch("./data/".concat(e.symbol,".json")),a=await t.json();return{symbol:e.symbol,name:e.name,data:a}}),a=await Promise.all(e);t(a);let s=a[0].data.map((e,t)=>{var s,r,l,d;return{date:e.date,["".concat(a[0].symbol,"_price")]:e.price,["".concat(a[0].symbol,"_dividend")]:e.dividend,["".concat(a[1].symbol,"_price")]:(null===(s=a[1].data[t])||void 0===s?void 0:s.price)||0,["".concat(a[1].symbol,"_dividend")]:(null===(r=a[1].data[t])||void 0===r?void 0:r.dividend)||0,["".concat(a[2].symbol,"_price")]:(null===(l=a[2].data[t])||void 0===l?void 0:l.price)||0,["".concat(a[2].symbol,"_dividend")]:(null===(d=a[2].data[t])||void 0===d?void 0:d.dividend)||0}});l(s)}catch(e){console.error("Error fetching data:",e)}finally{i(!1)}})()},[]);let A=e=>new Intl.NumberFormat("zh-TW",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e),F=e=>new Date(e).toLocaleDateString("zh-TW");return d?(0,s.jsxs)("div",{className:"container mx-auto p-4 space-y-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"金融資訊瀏覽"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"載入中..."})]}),(0,s.jsx)("div",{className:"grid gap-6 md:grid-cols-1 lg:grid-cols-3",children:[1,2,3].map(e=>(0,s.jsxs)(n,{children:[(0,s.jsxs)(o,{children:[(0,s.jsx)(y,{className:"h-6 w-32"}),(0,s.jsx)(y,{className:"h-4 w-24"})]}),(0,s.jsx)(x,{children:(0,s.jsx)("div",{className:"space-y-2",children:[1,2,3,4,5].map(e=>(0,s.jsx)(y,{className:"h-4 w-full"},e))})})]},e))}),(0,s.jsxs)(n,{children:[(0,s.jsx)(o,{children:(0,s.jsx)(y,{className:"h-6 w-48"})}),(0,s.jsx)(x,{children:(0,s.jsx)(y,{className:"h-80 w-full"})})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(E,{}),(0,s.jsxs)("div",{className:"container mx-auto p-4 pt-16 space-y-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"金融資訊瀏覽"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"股價與股息資訊總覽"})]}),(0,s.jsx)("div",{className:"grid gap-6 md:grid-cols-1 lg:grid-cols-3",children:e.map(e=>(0,s.jsxs)(n,{className:"w-full",children:[(0,s.jsxs)(o,{children:[(0,s.jsx)(c,{className:"text-lg",children:e.symbol}),(0,s.jsx)(m,{children:e.name})]}),(0,s.jsx)(x,{children:(0,s.jsx)("div",{className:"h-80 overflow-auto border rounded-md",children:(0,s.jsxs)(f,{children:[(0,s.jsx)(u,{className:"sticky top-0 bg-background z-10",children:(0,s.jsxs)(b,{children:[(0,s.jsx)(p,{className:"text-xs sm:text-sm border-b",children:"日期"}),(0,s.jsx)(p,{className:"text-xs sm:text-sm border-b",children:"股價"}),(0,s.jsx)(p,{className:"text-xs sm:text-sm border-b",children:"股息"})]})}),(0,s.jsx)(h,{children:e.data.map((e,t)=>(0,s.jsxs)(b,{className:"hover:bg-muted/50",children:[(0,s.jsx)(j,{className:"text-xs sm:text-sm font-medium",children:F(e.date)}),(0,s.jsx)(j,{className:"text-xs sm:text-sm",children:A(e.price)}),(0,s.jsx)(j,{className:"text-xs sm:text-sm",children:A(e.dividend)})]},t))})]})})})]},e.symbol))}),(0,s.jsxs)(n,{className:"w-full",children:[(0,s.jsxs)(o,{children:[(0,s.jsx)(c,{children:"股價與股息趨勢圖"}),(0,s.jsx)(m,{children:"折線圖顯示股價，柱狀圖顯示股息"})]}),(0,s.jsx)(x,{children:(0,s.jsx)("div",{className:"w-full h-80 sm:h-96",children:(0,s.jsx)(v.u,{width:"100%",height:"100%",children:(0,s.jsxs)(N.X,{data:a,margin:{top:20,right:20,bottom:20,left:20},children:[(0,s.jsx)(g.d,{strokeDasharray:"3 3"}),(0,s.jsx)(w.W,{dataKey:"date",tick:{fontSize:12},tickFormatter:e=>F(e)}),(0,s.jsx)(k.h,{yAxisId:"price",orientation:"left",tick:{fontSize:12},tickFormatter:e=>"$".concat(e)}),(0,s.jsx)(k.h,{yAxisId:"dividend",orientation:"right",tick:{fontSize:12},tickFormatter:e=>"$".concat(e)}),(0,s.jsx)(_.m,{formatter:(e,t)=>[A(Number(e)),t.includes("price")?"股價":"股息"],labelFormatter:e=>"日期: ".concat(F(e))}),(0,s.jsx)(R.s,{}),z.map((e,t)=>(0,s.jsx)(C.y,{yAxisId:"dividend",dataKey:"".concat(e.symbol,"_dividend"),name:"".concat(e.symbol," 股息"),fill:"hsl(".concat(120*t,", 70%, 50%)"),opacity:.7},"".concat(e.symbol,"_dividend"))),z.map((e,t)=>(0,s.jsx)(T.N,{yAxisId:"price",type:"monotone",dataKey:"".concat(e.symbol,"_price"),name:"".concat(e.symbol," 股價"),stroke:"hsl(".concat(120*t,", 70%, 40%)"),strokeWidth:2,dot:{r:3}},"".concat(e.symbol,"_price")))]})})})})]})]})]})}I.displayName="Button"}},e=>{var t=t=>e(e.s=t);e.O(0,[311,497,954,358],()=>t(42566)),_N_E=e.O()}]);