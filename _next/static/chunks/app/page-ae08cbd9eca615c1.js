(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{42566:(e,t,r)=>{Promise.resolve().then(r.bind(r,74816))},74816:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>I});var s=r(58081),a=r(82149),l=r(76522),d=r(14483);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,d.QP)((0,l.$)(t))}let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:n("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});i.displayName="Card";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:n("flex flex-col space-y-1.5 p-6",r),...a})});o.displayName="CardHeader";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:n("text-2xl font-semibold leading-none tracking-tight",r),...a})});c.displayName="CardTitle";let m=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:n("text-sm text-muted-foreground",r),...a})});m.displayName="CardDescription";let x=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:n("p-6 pt-0",r),...a})});x.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:n("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter";let h=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:n("w-full caption-bottom text-sm",r),...a})})});h.displayName="Table";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("thead",{ref:t,className:n("[&_tr]:border-b",r),...a})});u.displayName="TableHeader";let f=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tbody",{ref:t,className:n("[&_tr:last-child]:border-0",r),...a})});f.displayName="TableBody",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tfoot",{ref:t,className:n("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...a})}).displayName="TableFooter";let j=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tr",{ref:t,className:n("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...a})});j.displayName="TableRow";let p=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("th",{ref:t,className:n("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...a})});p.displayName="TableHead";let b=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("td",{ref:t,className:n("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...a})});function g(e){let{className:t,...r}=e;return(0,s.jsx)("div",{className:n("animate-pulse rounded-md bg-muted",t),...r})}b.displayName="TableCell",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("caption",{ref:t,className:n("mt-4 text-sm text-muted-foreground",r),...a})}).displayName="TableCaption";var y=r(78158),v=r(99550),N=r(33100),w=r(92583),k=r(63316),D=r(41073),T=r(47174),E=r(85235),C=r(94560),R=r(11516),_=r(28295),S=r(7135),F=r(64094);let z=(0,r(23484).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),A=a.forwardRef((e,t)=>{let{className:r,variant:a,size:l,asChild:d=!1,...i}=e,o=d?F.DX:"button";return(0,s.jsx)(o,{className:n(z({variant:a,size:l,className:r})),ref:t,...i})});function X(){let{theme:e,setTheme:t}=(0,S.D)();return(0,s.jsxs)(A,{variant:"outline",size:"icon",onClick:()=>t("light"===e?"dark":"light"),className:"fixed top-4 left-4 z-50 h-9 w-9",children:[(0,s.jsx)(R.A,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,s.jsx)(_.A,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,s.jsx)("span",{className:"sr-only",children:"切換主題"})]})}function I(){let[e,t]=(0,a.useState)([]),[r,l]=(0,a.useState)([]),[d,n]=(0,a.useState)(!0),[R,_]=(0,a.useState)([]),S=[{symbol:"XDTE",name:"S&P 500 0DTE Covered Call"},{symbol:"QDTE",name:"Innovation 100 0DTE Covered Call"},{symbol:"RDTE",name:"Small Cap 0DTE Covered Call"}],[F,z]=(0,a.useState)(!0),[A,I]=(0,a.useState)(!0),[Q,K]=(0,a.useState)(!0),[W,M]=(0,a.useState)(!0),[P,B]=(0,a.useState)(!0),[H,Y]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{let e=S.map(async e=>{let t=await fetch("./data/".concat(e.symbol,".json")),r=await t.json();return{symbol:e.symbol,name:e.name,data:r.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())}}),r=await Promise.all(e);t(r);let s=new Set;r.forEach(e=>{e.data.forEach(e=>s.add(e.date))});let a=Array.from(s).sort().map(e=>{let t={date:e};return r.forEach(r=>{let s=r.data.find(t=>t.date===e);t["".concat(r.symbol,"_price")]=(null==s?void 0:s.price)||null,t["".concat(r.symbol,"_dividend")]=(null==s?void 0:s.dividend)||null}),t});l(a);let d=r.map(e=>{let t=new Date,r=new Date(t.getFullYear(),t.getMonth()-3,t.getDate()),s=new Date(t.getFullYear(),t.getMonth()-6,t.getDate()),a=new Date(t.getFullYear(),t.getMonth()-9,t.getDate()),l=e.data.filter(e=>e.dividend>0),d=O(l,r),n=O(l,s),i=O(l,a);return{symbol:e.symbol,avg3Months:d,avg6Months:n,avg9Months:i}});_(d)}catch(e){console.error("Error fetching data:",e)}finally{n(!1)}})()},[]);let $=e=>new Intl.NumberFormat("zh-TW",{style:"currency",currency:"USD",minimumFractionDigits:6}).format(e),O=(e,t)=>{let r=e.filter(e=>new Date(e.date)>=t&&e.dividend>0);if(0===r.length)return 0;let s=r.reduce((e,t)=>e+Number(t.dividend),0);return console.log(s),s/r.length},L=e=>new Date(e).toLocaleDateString("zh-TW");return d?(0,s.jsxs)("div",{className:"container mx-auto p-4 space-y-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"金融資訊瀏覽"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"載入中..."})]}),(0,s.jsx)("div",{className:"grid gap-6 md:grid-cols-1 lg:grid-cols-3",children:[1,2,3].map(e=>(0,s.jsxs)(i,{children:[(0,s.jsxs)(o,{children:[(0,s.jsx)(g,{className:"h-6 w-32"}),(0,s.jsx)(g,{className:"h-4 w-24"})]}),(0,s.jsx)(x,{children:(0,s.jsx)("div",{className:"space-y-2",children:[1,2,3,4,5].map(e=>(0,s.jsx)(g,{className:"h-4 w-full"},e))})})]},e))}),(0,s.jsxs)(i,{children:[(0,s.jsx)(o,{children:(0,s.jsx)(g,{className:"h-6 w-48"})}),(0,s.jsx)(x,{children:(0,s.jsx)(g,{className:"h-80 w-full"})})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(X,{}),(0,s.jsxs)("div",{className:"container mx-auto p-4 pt-16 space-y-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"金融資訊瀏覽"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"股價與股息資訊總覽"})]}),(0,s.jsx)("div",{className:"grid gap-6 md:grid-cols-1 lg:grid-cols-3",children:e.map(e=>(0,s.jsxs)(i,{className:"w-full",children:[(0,s.jsxs)(o,{children:[(0,s.jsx)(c,{className:"text-lg",children:e.symbol}),(0,s.jsx)(m,{children:e.name})]}),(0,s.jsx)(x,{children:(0,s.jsx)("div",{className:"h-80 overflow-auto border rounded-md",children:(0,s.jsxs)(h,{children:[(0,s.jsx)(u,{className:"sticky top-0 bg-background z-10",children:(0,s.jsxs)(j,{children:[(0,s.jsx)(p,{className:"text-xs sm:text-sm border-b",children:"日期"}),(0,s.jsx)(p,{className:"text-xs sm:text-sm border-b",children:"股價"}),(0,s.jsx)(p,{className:"text-xs sm:text-sm border-b",children:"股息"})]})}),(0,s.jsx)(f,{children:e.data.map((e,t)=>(0,s.jsxs)(j,{className:"hover:bg-muted/50",children:[(0,s.jsx)(b,{className:"text-xs sm:text-sm font-medium",children:L(e.date)}),(0,s.jsx)(b,{className:"text-xs sm:text-sm",children:$(e.price)}),(0,s.jsx)(b,{className:"text-xs sm:text-sm",children:$(e.dividend)})]},t))})]})})})]},e.symbol))}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox",checked:F,onChange:e=>z(e.target.checked)}),"XDTE 股價"]}),(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox",checked:A,onChange:e=>I(e.target.checked)}),"XDTE 股息"]}),(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox",checked:Q,onChange:e=>K(e.target.checked)}),"QDTE 股價"]}),(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox",checked:W,onChange:e=>M(e.target.checked)}),"QDTE 股息"]}),(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox",checked:P,onChange:e=>B(e.target.checked)}),"RDTE 股價"]}),(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox",checked:H,onChange:e=>Y(e.target.checked)}),"RDTE 股息"]})]}),(0,s.jsxs)(i,{className:"w-full",children:[(0,s.jsxs)(o,{children:[(0,s.jsx)(c,{children:"股價與股息趨勢圖"}),(0,s.jsx)(m,{children:"折線圖顯示股價，柱狀圖顯示股息"})]}),(0,s.jsx)(x,{children:(0,s.jsx)("div",{className:"w-full h-80 sm:h-96",children:(0,s.jsx)(y.u,{width:"100%",height:"100%",children:(0,s.jsxs)(v.X,{data:r,margin:{top:20,right:20,bottom:20,left:20},children:[(0,s.jsx)(N.d,{strokeDasharray:"3 3"}),(0,s.jsx)(w.W,{dataKey:"date",tick:{fontSize:12},tickFormatter:e=>L(e)}),(0,s.jsx)(k.h,{yAxisId:"price",orientation:"left",tick:{fontSize:12},tickFormatter:e=>"$".concat(e)}),(0,s.jsx)(k.h,{yAxisId:"dividend",orientation:"right",tick:{fontSize:12},tickFormatter:e=>"$".concat(e)}),(0,s.jsx)(D.m,{formatter:(e,t)=>{let r=t.split("_")[0];return[$(Number(e)),"".concat(r)]},labelFormatter:e=>"\uD83D\uDCC5 ".concat(L(e)),contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"6px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},labelStyle:{color:"hsl(var(--foreground))",fontWeight:"bold",marginBottom:"4px",fontSize:"14px"}}),(0,s.jsx)(T.s,{}),A&&(0,s.jsx)(E.y,{yAxisId:"dividend",dataKey:"XDTE_dividend",name:"XDTE 股息",fill:"hsl(0, 70%, 50%)",opacity:.7},"XDTE_dividend"),W&&(0,s.jsx)(E.y,{yAxisId:"dividend",dataKey:"QDTE_dividend",name:"QDTE 股息",fill:"hsl(120, 70%, 50%)",opacity:.7},"QDTE_dividend"),H&&(0,s.jsx)(E.y,{yAxisId:"dividend",dataKey:"RDTE_dividend",name:"RDTE 股息",fill:"hsl(240, 70%, 50%)",opacity:.7},"RDTE_dividend"),F&&(0,s.jsx)(C.N,{yAxisId:"price",type:"monotone",dataKey:"XDTE_price",name:"XDTE 股價",stroke:"hsl(0, 70%, 40%)",strokeWidth:2,dot:{r:3}},"XDTE_price"),Q&&(0,s.jsx)(C.N,{yAxisId:"price",type:"monotone",dataKey:"QDTE_price",name:"QDTE 股價",stroke:"hsl(120, 70%, 40%)",strokeWidth:2,dot:{r:3}},"QDTE_price"),P&&(0,s.jsx)(C.N,{yAxisId:"price",type:"monotone",dataKey:"RDTE_price",name:"RDTE 股價",stroke:"hsl(240, 70%, 40%)",strokeWidth:2,dot:{r:3}},"RDTE_price")]})})})})]}),(0,s.jsxs)(i,{children:[(0,s.jsxs)(o,{children:[(0,s.jsx)(c,{children:"股息統計分析"}),(0,s.jsx)(m,{children:"各股票近期平均股息表現"})]}),(0,s.jsx)(x,{children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)(h,{children:[(0,s.jsx)(u,{children:(0,s.jsxs)(j,{children:[(0,s.jsx)(p,{children:"股票代號"}),(0,s.jsx)(p,{children:"近3個月平均股息"}),(0,s.jsx)(p,{children:"近6個月平均股息"}),(0,s.jsx)(p,{children:"近9個月平均股息"})]})}),(0,s.jsx)(f,{children:R.map(e=>(0,s.jsxs)(j,{children:[(0,s.jsx)(b,{className:"font-medium",children:e.symbol}),(0,s.jsx)(b,{children:$(e.avg3Months)}),(0,s.jsx)(b,{children:$(e.avg6Months)}),(0,s.jsx)(b,{children:$(e.avg9Months)})]},e.symbol))})]})})})]})]})]})}A.displayName="Button"}},e=>{var t=t=>e(e.s=t);e.O(0,[311,497,954,358],()=>t(42566)),_N_E=e.O()}]);